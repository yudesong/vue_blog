{"ast":null,"code":"export default {\n  name: 'CategoryEditor',\n  props: {\n    category: {\n      type: Object,\n      default: null\n    },\n    availableIcons: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      categoryForm: {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      }\n    };\n  },\n  computed: {\n    isEditing() {\n      return !!this.category;\n    }\n  },\n  watch: {\n    category: {\n      immediate: true,\n      handler(newVal) {\n        if (newVal) {\n          this.categoryForm = {\n            ...newVal\n          };\n        } else {\n          this.resetForm();\n        }\n      }\n    }\n  },\n  methods: {\n    resetForm() {\n      this.categoryForm = {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      };\n    },\n    saveCategory() {\n      // 验证表单\n      if (!this.categoryForm.name.trim()) {\n        alert('请输入分类名称');\n        return;\n      }\n      if (!this.categoryForm.description.trim()) {\n        alert('请输入分类描述');\n        return;\n      }\n\n      // 准备提交的数据\n      const submitData = {\n        ...this.categoryForm,\n        // 如果是新建分类，添加创建日期和文章计数\n        ...(!this.isEditing ? {\n          count: 0,\n          lastUpdated: new Date().toISOString().split('T')[0]\n        } : {})\n      };\n      this.$emit('save', submitData);\n    }\n  }\n};","map":{"version":3,"names":["name","props","category","type","Object","default","availableIcons","Array","required","data","categoryForm","id","description","icon","computed","isEditing","watch","immediate","handler","newVal","resetForm","methods","saveCategory","trim","alert","submitData","count","lastUpdated","Date","toISOString","split","$emit"],"sources":["/Users/yudesong/Project/Vue/blog/src/components/CategoryEditor.vue"],"sourcesContent":["<template>\n  <div class=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n    <div class=\"bg-white rounded-lg shadow-lg w-full max-w-md\">\n      <!-- 模态框头部 -->\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200\">\n        <h3 class=\"text-lg font-medium text-gray-800\">{{ isEditing ? '编辑分类' : '新建分类' }}</h3>\n        <button \n          class=\"text-gray-500 hover:text-gray-700\"\n          @click=\"$emit('close')\"\n        >\n          <i class=\"fa fa-times\"></i>\n        </button>\n      </div>\n      \n      <!-- 模态框内容 -->\n      <div class=\"p-4\">\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">分类名称</label>\n          <input \n            v-model=\"categoryForm.name\"\n            type=\"text\" \n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"请输入分类名称\"\n            maxlength=\"50\"\n          />\n        </div>\n        \n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">分类描述</label>\n          <textarea \n            v-model=\"categoryForm.description\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n            placeholder=\"请输入分类描述\"\n            rows=\"3\"\n            maxlength=\"200\"\n          ></textarea>\n        </div>\n        \n        <div class=\"mb-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">选择图标</label>\n          <div class=\"flex flex-wrap gap-2\">\n            <button \n              v-for=\"icon in availableIcons\"\n              :key=\"icon\"\n              :class=\"['w-10 h-10 rounded-full flex items-center justify-center transition-colors', categoryForm.icon === icon ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200']\"\n              @click=\"categoryForm.icon = icon\"\n              :title=\"icon\"\n            >\n              <i :class=\"['fa', icon]\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 模态框底部 -->\n      <div class=\"p-4 border-t border-gray-200 bg-gray-50\">\n        <div class=\"flex justify-end space-x-2\">\n          <button \n            class=\"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n            @click=\"$emit('close')\"\n          >\n            取消\n          </button>\n          <button \n            class=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n            @click=\"saveCategory\"\n          >\n            保存\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CategoryEditor',\n  props: {\n    category: {\n      type: Object,\n      default: null\n    },\n    availableIcons: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      categoryForm: {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      }\n    }\n  },\n  computed: {\n    isEditing() {\n      return !!this.category\n    }\n  },\n  watch: {\n    category: {\n      immediate: true,\n      handler(newVal) {\n        if (newVal) {\n          this.categoryForm = { ...newVal }\n        } else {\n          this.resetForm()\n        }\n      }\n    }\n  },\n  methods: {\n    resetForm() {\n      this.categoryForm = {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      }\n    },\n    saveCategory() {\n      // 验证表单\n      if (!this.categoryForm.name.trim()) {\n        alert('请输入分类名称')\n        return\n      }\n      if (!this.categoryForm.description.trim()) {\n        alert('请输入分类描述')\n        return\n      }\n      \n      // 准备提交的数据\n      const submitData = {\n        ...this.categoryForm,\n        // 如果是新建分类，添加创建日期和文章计数\n        ...(!this.isEditing ? {\n          count: 0,\n          lastUpdated: new Date().toISOString().split('T')[0]\n        } : {})\n      }\n      \n      this.$emit('save', submitData)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 分类编辑器样式已集成在组件中 */\n</style>"],"mappings":"AA4EA,eAAe;EACbA,IAAI,EAAE,gBAAgB;EACtBC,KAAK,EAAE;IACLC,QAAQ,EAAE;MACRC,IAAI,EAAEC,MAAM;MACZC,OAAO,EAAE;IACX,CAAC;IACDC,cAAc,EAAE;MACdH,IAAI,EAAEI,KAAK;MACXC,QAAQ,EAAE;IACZ;EACF,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE;QACZC,EAAE,EAAE,IAAI;QACRX,IAAI,EAAE,EAAE;QACRY,WAAW,EAAE,EAAE;QACfC,IAAI,EAAE;MACR;IACF;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,SAASA,CAAA,EAAG;MACV,OAAO,CAAC,CAAC,IAAI,CAACb,QAAO;IACvB;EACF,CAAC;EACDc,KAAK,EAAE;IACLd,QAAQ,EAAE;MACRe,SAAS,EAAE,IAAI;MACfC,OAAOA,CAACC,MAAM,EAAE;QACd,IAAIA,MAAM,EAAE;UACV,IAAI,CAACT,YAAW,GAAI;YAAE,GAAGS;UAAO;QAClC,OAAO;UACL,IAAI,CAACC,SAAS,CAAC;QACjB;MACF;IACF;EACF,CAAC;EACDC,OAAO,EAAE;IACPD,SAASA,CAAA,EAAG;MACV,IAAI,CAACV,YAAW,GAAI;QAClBC,EAAE,EAAE,IAAI;QACRX,IAAI,EAAE,EAAE;QACRY,WAAW,EAAE,EAAE;QACfC,IAAI,EAAE;MACR;IACF,CAAC;IACDS,YAAYA,CAAA,EAAG;MACb;MACA,IAAI,CAAC,IAAI,CAACZ,YAAY,CAACV,IAAI,CAACuB,IAAI,CAAC,CAAC,EAAE;QAClCC,KAAK,CAAC,SAAS;QACf;MACF;MACA,IAAI,CAAC,IAAI,CAACd,YAAY,CAACE,WAAW,CAACW,IAAI,CAAC,CAAC,EAAE;QACzCC,KAAK,CAAC,SAAS;QACf;MACF;;MAEA;MACA,MAAMC,UAAS,GAAI;QACjB,GAAG,IAAI,CAACf,YAAY;QACpB;QACA,IAAI,CAAC,IAAI,CAACK,SAAQ,GAAI;UACpBW,KAAK,EAAE,CAAC;UACRC,WAAW,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC;QACpD,IAAI,CAAC,CAAC;MACR;MAEA,IAAI,CAACC,KAAK,CAAC,MAAM,EAAEN,UAAU;IAC/B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}