{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white rounded-lg shadow-lg w-full max-w-md\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center p-4 border-b border-gray-200\"\n};\nconst _hoisted_4 = {\n  class: \"text-lg font-medium text-gray-800\"\n};\nconst _hoisted_5 = {\n  class: \"p-4\"\n};\nconst _hoisted_6 = {\n  class: \"mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"mb-4\"\n};\nconst _hoisted_8 = {\n  class: \"mb-6\"\n};\nconst _hoisted_9 = {\n  class: \"flex flex-wrap gap-2\"\n};\nconst _hoisted_10 = [\"onClick\", \"title\"];\nconst _hoisted_11 = {\n  class: \"p-4 border-t border-gray-200 bg-gray-50\"\n};\nconst _hoisted_12 = {\n  class: \"flex justify-end space-x-2\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 模态框头部 \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($options.isEditing ? '编辑分类' : '新建分类'), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: \"text-gray-500 hover:text-gray-700\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('close'))\n  }, [...(_cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n    class: \"fa fa-times\"\n  }, null, -1 /* CACHED */)]))])]), _createCommentVNode(\" 模态框内容 \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"分类名称\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.categoryForm.name = $event),\n    type: \"text\",\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    placeholder: \"请输入分类名称\",\n    maxlength: \"50\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.categoryForm.name]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"分类描述\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.categoryForm.description = $event),\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\",\n    placeholder: \"请输入分类描述\",\n    rows: \"3\",\n    maxlength: \"200\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.categoryForm.description]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[8] || (_cache[8] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"选择图标\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.availableIcons, icon => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: icon,\n      class: _normalizeClass(['w-10 h-10 rounded-full flex items-center justify-center transition-colors', $data.categoryForm.icon === icon ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200']),\n      onClick: $event => $data.categoryForm.icon = icon,\n      title: icon\n    }, [_createElementVNode(\"i\", {\n      class: _normalizeClass(['fa', icon])\n    }, null, 2 /* CLASS */)], 10 /* CLASS, PROPS */, _hoisted_10);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 模态框底部 \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    class: \"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors\",\n    onClick: _cache[3] || (_cache[3] = $event => _ctx.$emit('close'))\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    class: \"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.saveCategory && $options.saveCategory(...args))\n  }, \" 保存 \")])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_toDisplayString","$options","isEditing","onClick","_cache","$event","_ctx","$emit","_hoisted_5","_hoisted_6","$data","categoryForm","name","type","placeholder","maxlength","_hoisted_7","description","rows","_hoisted_8","_hoisted_9","_Fragment","_renderList","$props","availableIcons","icon","key","_normalizeClass","title","_hoisted_11","_hoisted_12","args","saveCategory"],"sources":["/Users/yudesong/Project/Vue/blog/src/components/CategoryEditor.vue"],"sourcesContent":["<template>\n  <div class=\"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4\">\n    <div class=\"bg-white rounded-lg shadow-lg w-full max-w-md\">\n      <!-- 模态框头部 -->\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200\">\n        <h3 class=\"text-lg font-medium text-gray-800\">{{ isEditing ? '编辑分类' : '新建分类' }}</h3>\n        <button \n          class=\"text-gray-500 hover:text-gray-700\"\n          @click=\"$emit('close')\"\n        >\n          <i class=\"fa fa-times\"></i>\n        </button>\n      </div>\n      \n      <!-- 模态框内容 -->\n      <div class=\"p-4\">\n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">分类名称</label>\n          <input \n            v-model=\"categoryForm.name\"\n            type=\"text\" \n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"请输入分类名称\"\n            maxlength=\"50\"\n          />\n        </div>\n        \n        <div class=\"mb-4\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-1\">分类描述</label>\n          <textarea \n            v-model=\"categoryForm.description\"\n            class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n            placeholder=\"请输入分类描述\"\n            rows=\"3\"\n            maxlength=\"200\"\n          ></textarea>\n        </div>\n        \n        <div class=\"mb-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">选择图标</label>\n          <div class=\"flex flex-wrap gap-2\">\n            <button \n              v-for=\"icon in availableIcons\"\n              :key=\"icon\"\n              :class=\"['w-10 h-10 rounded-full flex items-center justify-center transition-colors', categoryForm.icon === icon ? 'bg-blue-100 text-blue-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200']\"\n              @click=\"categoryForm.icon = icon\"\n              :title=\"icon\"\n            >\n              <i :class=\"['fa', icon]\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 模态框底部 -->\n      <div class=\"p-4 border-t border-gray-200 bg-gray-50\">\n        <div class=\"flex justify-end space-x-2\">\n          <button \n            class=\"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n            @click=\"$emit('close')\"\n          >\n            取消\n          </button>\n          <button \n            class=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n            @click=\"saveCategory\"\n          >\n            保存\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CategoryEditor',\n  props: {\n    category: {\n      type: Object,\n      default: null\n    },\n    availableIcons: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      categoryForm: {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      }\n    }\n  },\n  computed: {\n    isEditing() {\n      return !!this.category\n    }\n  },\n  watch: {\n    category: {\n      immediate: true,\n      handler(newVal) {\n        if (newVal) {\n          this.categoryForm = { ...newVal }\n        } else {\n          this.resetForm()\n        }\n      }\n    }\n  },\n  methods: {\n    resetForm() {\n      this.categoryForm = {\n        id: null,\n        name: '',\n        description: '',\n        icon: 'fa-file-text-o'\n      }\n    },\n    saveCategory() {\n      // 验证表单\n      if (!this.categoryForm.name.trim()) {\n        alert('请输入分类名称')\n        return\n      }\n      if (!this.categoryForm.description.trim()) {\n        alert('请输入分类描述')\n        return\n      }\n      \n      // 准备提交的数据\n      const submitData = {\n        ...this.categoryForm,\n        // 如果是新建分类，添加创建日期和文章计数\n        ...(!this.isEditing ? {\n          count: 0,\n          lastUpdated: new Date().toISOString().split('T')[0]\n        } : {})\n      }\n      \n      this.$emit('save', submitData)\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 分类编辑器样式已集成在组件中 */\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAqE;;EACzEA,KAAK,EAAC;AAA+C;;EAEnDA,KAAK,EAAC;AAAgE;;EACrEA,KAAK,EAAC;AAAmC;;EAU1CA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAM;;EAWZA,KAAK,EAAC;AAAM;;EAWZA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAsB;;;EAehCA,KAAK,EAAC;AAAyC;;EAC7CA,KAAK,EAAC;AAA4B;;uBAvD7CC,mBAAA,CAuEM,OAvENC,UAuEM,GAtEJC,mBAAA,CAqEM,OArENC,UAqEM,GApEJC,mBAAA,WAAc,EACdF,mBAAA,CAQM,OARNG,UAQM,GAPJH,mBAAA,CAAoF,MAApFI,UAAoF,EAAAC,gBAAA,CAAnCC,QAAA,CAAAC,SAAS,oCAC1DP,mBAAA,CAKS;IAJPH,KAAK,EAAC,mCAAmC;IACxCW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK;qCAEbZ,mBAAA,CAA2B;IAAxBH,KAAK,EAAC;EAAa,0B,QAI1BK,mBAAA,WAAc,EACdF,mBAAA,CAqCM,OArCNa,UAqCM,GApCJb,mBAAA,CASM,OATNc,UASM,G,0BARJd,mBAAA,CAAwE;IAAjEH,KAAK,EAAC;EAA8C,GAAC,MAAI,qB,gBAChEG,mBAAA,CAME;+DALSe,KAAA,CAAAC,YAAY,CAACC,IAAI,GAAAP,MAAA;IAC1BQ,IAAI,EAAC,MAAM;IACXrB,KAAK,EAAC,wGAAwG;IAC9GsB,WAAW,EAAC,SAAS;IACrBC,SAAS,EAAC;iDAJDL,KAAA,CAAAC,YAAY,CAACC,IAAI,E,KAQ9BjB,mBAAA,CASM,OATNqB,UASM,G,0BARJrB,mBAAA,CAAwE;IAAjEH,KAAK,EAAC;EAA8C,GAAC,MAAI,qB,gBAChEG,mBAAA,CAMY;+DALDe,KAAA,CAAAC,YAAY,CAACM,WAAW,GAAAZ,MAAA;IACjCb,KAAK,EAAC,oHAAoH;IAC1HsB,WAAW,EAAC,SAAS;IACrBI,IAAI,EAAC,GAAG;IACRH,SAAS,EAAC;iDAJDL,KAAA,CAAAC,YAAY,CAACM,WAAW,E,KAQrCtB,mBAAA,CAaM,OAbNwB,UAaM,G,0BAZJxB,mBAAA,CAAwE;IAAjEH,KAAK,EAAC;EAA8C,GAAC,MAAI,qBAChEG,mBAAA,CAUM,OAVNyB,UAUM,I,kBATJ3B,mBAAA,CAQS4B,SAAA,QAAAC,WAAA,CAPQC,MAAA,CAAAC,cAAc,EAAtBC,IAAI;yBADbhC,mBAAA,CAQS;MANNiC,GAAG,EAAED,IAAI;MACTjC,KAAK,EAAAmC,eAAA,+EAAgFjB,KAAA,CAAAC,YAAY,CAACc,IAAI,KAAKA,IAAI;MAC/GtB,OAAK,EAAAE,MAAA,IAAEK,KAAA,CAAAC,YAAY,CAACc,IAAI,GAAGA,IAAI;MAC/BG,KAAK,EAAEH;QAER9B,mBAAA,CAA6B;MAAzBH,KAAK,EAAAmC,eAAA,QAASF,IAAI;;wCAM9B5B,mBAAA,WAAc,EACdF,mBAAA,CAeM,OAfNkC,WAeM,GAdJlC,mBAAA,CAaM,OAbNmC,WAaM,GAZJnC,mBAAA,CAKS;IAJPH,KAAK,EAAC,mGAAmG;IACxGW,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,IAAA,CAAAC,KAAK;KACd,MAED,GACAZ,mBAAA,CAKS;IAJPH,KAAK,EAAC,sFAAsF;IAC3FW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAA2B,IAAA,KAAE9B,QAAA,CAAA+B,YAAA,IAAA/B,QAAA,CAAA+B,YAAA,IAAAD,IAAA,CAAY;KACrB,MAED,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}