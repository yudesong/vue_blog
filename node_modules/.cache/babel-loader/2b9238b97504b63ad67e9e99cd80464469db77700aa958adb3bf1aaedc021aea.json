{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"min-h-screen bg-gray-50\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-5xl mx-auto p-4 bg-white min-h-screen\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center p-4 border-b border-gray-200\"\n};\nconst _hoisted_4 = {\n  class: \"text-lg font-medium text-gray-800\"\n};\nconst _hoisted_5 = {\n  class: \"flex space-x-2\"\n};\nconst _hoisted_6 = {\n  class: \"flex-1 overflow-y-auto p-4\"\n};\nconst _hoisted_7 = {\n  class: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\"\n};\nconst _hoisted_8 = {\n  class: \"md:col-span-2\"\n};\nconst _hoisted_9 = [\"value\"];\nconst _hoisted_10 = {\n  class: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\"\n};\nconst _hoisted_11 = {\n  class: \"mb-6\"\n};\nconst _hoisted_12 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_13 = {\n  key: 0,\n  class: \"w-32 h-20 rounded overflow-hidden border border-gray-200\"\n};\nconst _hoisted_14 = [\"src\"];\nconst _hoisted_15 = {\n  class: \"mb-6\"\n};\nconst _hoisted_16 = {\n  class: \"border border-gray-300 rounded-t-lg p-2 bg-gray-50 flex flex-wrap gap-1\"\n};\nconst _hoisted_17 = {\n  key: 0,\n  class: \"mb-4\"\n};\nconst _hoisted_18 = {\n  class: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\"\n};\nconst _hoisted_19 = {\n  class: \"bg-gray-100 rounded p-2 flex flex-col items-center justify-center\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"fa fa-video text-gray-500 text-2xl mb-1\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"fa fa-music text-gray-500 text-2xl mb-1\"\n};\nconst _hoisted_22 = [\"src\"];\nconst _hoisted_23 = {\n  class: \"text-xs text-gray-500 truncate text-center\"\n};\nconst _hoisted_24 = [\"onClick\"];\nconst _hoisted_25 = {\n  class: \"fixed bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white shadow-lg\"\n};\nconst _hoisted_26 = {\n  class: \"max-w-5xl mx-auto flex justify-between items-center\"\n};\nconst _hoisted_27 = {\n  class: \"text-sm text-gray-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" 模态框头部 \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h3\", _hoisted_4, _toDisplayString($options.isEditing ? '编辑文章' : '新建文章'), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('close'))\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    class: \"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\",\n    onClick: _cache[1] || (_cache[1] = (...args) => _ctx.saveArticle && _ctx.saveArticle(...args))\n  }, \" 保存 \")])]), _createCommentVNode(\" 模态框内容 \"), _createElementVNode(\"div\", _hoisted_6, [_createCommentVNode(\" 文章基本信息 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[26] || (_cache[26] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"文章标题\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.articleForm.title = $event),\n    type: \"text\",\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    placeholder: \"请输入文章标题\",\n    maxlength: \"100\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.articleForm.title]])]), _createElementVNode(\"div\", null, [_cache[28] || (_cache[28] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"文章分类\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.articleForm.category_id = $event),\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  }, [_cache[27] || (_cache[27] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"请选择分类\", -1 /* CACHED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.categories, category => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: category.id,\n      value: category.id\n    }, _toDisplayString(category.name), 9 /* TEXT, PROPS */, _hoisted_9);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.articleForm.category_id]])])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", null, [_cache[29] || (_cache[29] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"文章标签\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.articleForm.tagsStr = $event),\n    type: \"text\",\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    placeholder: \"多个标签用逗号分隔\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.articleForm.tagsStr]])]), _createElementVNode(\"div\", null, [_cache[30] || (_cache[30] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-1\"\n  }, \"发布日期\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.articleForm.publishedDate = $event),\n    type: \"date\",\n    class: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.articleForm.publishedDate]])])]), _createCommentVNode(\" 特色图片 \"), _createElementVNode(\"div\", _hoisted_11, [_cache[32] || (_cache[32] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"特色图片\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_12, [$data.articleForm.coverImage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_13, [_createElementVNode(\"img\", {\n    src: $data.articleForm.coverImage,\n    alt: \"封面图片\",\n    class: \"w-full h-full object-cover\"\n  }, null, 8 /* PROPS */, _hoisted_14)])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    class: \"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.triggerImageUpload && $options.triggerImageUpload(...args))\n  }, [...(_cache[31] || (_cache[31] = [_createElementVNode(\"i\", {\n    class: \"fa fa-upload mr-1\"\n  }, null, -1 /* CACHED */), _createTextVNode(\" 上传图片 \", -1 /* CACHED */)]))]), _createElementVNode(\"input\", {\n    ref: \"imageUpload\",\n    type: \"file\",\n    accept: \"image/*\",\n    class: \"hidden\",\n    onChange: _cache[7] || (_cache[7] = (...args) => $options.handleCoverImageUpload && $options.handleCoverImageUpload(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)])]), _createCommentVNode(\" 文章内容编辑器 \"), _createElementVNode(\"div\", _hoisted_15, [_cache[47] || (_cache[47] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"文章内容\", -1 /* CACHED */)), _createCommentVNode(\" 编辑器工具栏 \"), _createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"加粗\",\n    onClick: _cache[8] || (_cache[8] = $event => $options.formatText('bold'))\n  }, [...(_cache[33] || (_cache[33] = [_createElementVNode(\"i\", {\n    class: \"fa fa-bold\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"斜体\",\n    onClick: _cache[9] || (_cache[9] = $event => $options.formatText('italic'))\n  }, [...(_cache[34] || (_cache[34] = [_createElementVNode(\"i\", {\n    class: \"fa fa-italic\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"下划线\",\n    onClick: _cache[10] || (_cache[10] = $event => $options.formatText('underline'))\n  }, [...(_cache[35] || (_cache[35] = [_createElementVNode(\"i\", {\n    class: \"fa fa-underline\"\n  }, null, -1 /* CACHED */)]))]), _cache[44] || (_cache[44] = _createElementVNode(\"span\", {\n    class: \"border-r border-gray-300 h-6 mx-1\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"H2标题\",\n    onClick: _cache[11] || (_cache[11] = $event => $options.formatText('formatBlock', 'h2'))\n  }, [...(_cache[36] || (_cache[36] = [_createElementVNode(\"i\", {\n    class: \"fa fa-header\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"H2\", -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"H3标题\",\n    onClick: _cache[12] || (_cache[12] = $event => $options.formatText('formatBlock', 'h3'))\n  }, [...(_cache[37] || (_cache[37] = [_createElementVNode(\"i\", {\n    class: \"fa fa-header\"\n  }, null, -1 /* CACHED */), _createTextVNode(\"H3\", -1 /* CACHED */)]))]), _cache[45] || (_cache[45] = _createElementVNode(\"span\", {\n    class: \"border-r border-gray-300 h-6 mx-1\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"无序列表\",\n    onClick: _cache[13] || (_cache[13] = $event => $options.formatText('insertUnorderedList'))\n  }, [...(_cache[38] || (_cache[38] = [_createElementVNode(\"i\", {\n    class: \"fa fa-list-ul\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"有序列表\",\n    onClick: _cache[14] || (_cache[14] = $event => $options.formatText('insertOrderedList'))\n  }, [...(_cache[39] || (_cache[39] = [_createElementVNode(\"i\", {\n    class: \"fa fa-list-ol\"\n  }, null, -1 /* CACHED */)]))]), _cache[46] || (_cache[46] = _createElementVNode(\"span\", {\n    class: \"border-r border-gray-300 h-6 mx-1\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"插入链接\",\n    onClick: _cache[15] || (_cache[15] = (...args) => $options.insertLink && $options.insertLink(...args))\n  }, [...(_cache[40] || (_cache[40] = [_createElementVNode(\"i\", {\n    class: \"fa fa-link\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"插入图片\",\n    onClick: _cache[16] || (_cache[16] = (...args) => $options.triggerImageInsert && $options.triggerImageInsert(...args))\n  }, [...(_cache[41] || (_cache[41] = [_createElementVNode(\"i\", {\n    class: \"fa fa-image\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"插入视频\",\n    onClick: _cache[17] || (_cache[17] = (...args) => $options.insertVideo && $options.insertVideo(...args))\n  }, [...(_cache[42] || (_cache[42] = [_createElementVNode(\"i\", {\n    class: \"fa fa-video\"\n  }, null, -1 /* CACHED */)]))]), _createElementVNode(\"button\", {\n    class: \"p-1 hover:bg-gray-200 rounded\",\n    title: \"插入代码块\",\n    onClick: _cache[18] || (_cache[18] = (...args) => $options.insertCodeBlock && $options.insertCodeBlock(...args))\n  }, [...(_cache[43] || (_cache[43] = [_createElementVNode(\"i\", {\n    class: \"fa fa-code\"\n  }, null, -1 /* CACHED */)]))])]), _createCommentVNode(\" 编辑器内容区 \"), _createElementVNode(\"div\", {\n    ref: \"editorContent\",\n    contenteditable: \"true\",\n    class: \"border border-gray-300 border-t-0 rounded-b-lg p-4 min-h-[300px] focus:outline-none focus:ring-2 focus:ring-blue-500\",\n    onInput: _cache[19] || (_cache[19] = (...args) => $options.updateContent && $options.updateContent(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)]), _createCommentVNode(\" 媒体上传区域 \"), $data.articleForm.media.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_17, [_cache[49] || (_cache[49] = _createElementVNode(\"label\", {\n    class: \"block text-sm font-medium text-gray-700 mb-2\"\n  }, \"上传的媒体\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_18, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.articleForm.media, media => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: media.id,\n      class: \"relative\"\n    }, [_createElementVNode(\"div\", _hoisted_19, [media.type === 'video' ? (_openBlock(), _createElementBlock(\"i\", _hoisted_20)) : media.type === 'audio' ? (_openBlock(), _createElementBlock(\"i\", _hoisted_21)) : (_openBlock(), _createElementBlock(\"img\", {\n      key: 2,\n      src: media.url,\n      alt: \"媒体预览\",\n      class: \"w-full h-20 object-cover rounded mb-1\"\n    }, null, 8 /* PROPS */, _hoisted_22)), _createElementVNode(\"div\", _hoisted_23, _toDisplayString(media.name), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      class: \"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\",\n      onClick: $event => $options.removeMedia(media.id)\n    }, [...(_cache[48] || (_cache[48] = [_createElementVNode(\"i\", {\n      class: \"fa fa-times text-xs\"\n    }, null, -1 /* CACHED */)]))], 8 /* PROPS */, _hoisted_24)]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)]), _createCommentVNode(\" 页面底部操作区 \"), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, \" 字数统计：\" + _toDisplayString($options.contentWordCount), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100 mr-2 transition-colors\",\n    onClick: _cache[20] || (_cache[20] = (...args) => $options.cancelEdit && $options.cancelEdit(...args))\n  }, \" 取消 \"), _createElementVNode(\"button\", {\n    class: \"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100 mr-2 transition-colors\",\n    onClick: _cache[21] || (_cache[21] = (...args) => $options.saveAsDraft && $options.saveAsDraft(...args))\n  }, \" 保存为草稿 \"), _createElementVNode(\"button\", {\n    class: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\",\n    onClick: _cache[22] || (_cache[22] = (...args) => $options.publishArticle && $options.publishArticle(...args))\n  }, _toDisplayString($options.isEditing ? '更新文章' : '发布文章'), 1 /* TEXT */)])])]), _createCommentVNode(\" 隐藏的文件上传输入 \"), _createElementVNode(\"input\", {\n    ref: \"imageInsert\",\n    type: \"file\",\n    accept: \"image/*\",\n    class: \"hidden\",\n    onChange: _cache[23] || (_cache[23] = (...args) => $options.handleImageUpload && $options.handleImageUpload(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createElementVNode(\"input\", {\n    ref: \"videoUpload\",\n    type: \"file\",\n    accept: \"video/*\",\n    class: \"hidden\",\n    onChange: _cache[24] || (_cache[24] = (...args) => $options.handleVideoUpload && $options.handleVideoUpload(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _createElementVNode(\"input\", {\n    ref: \"audioUpload\",\n    type: \"file\",\n    accept: \"audio/*\",\n    class: \"hidden\",\n    onChange: _cache[25] || (_cache[25] = (...args) => $options.handleAudioUpload && $options.handleAudioUpload(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","_hoisted_3","_hoisted_4","_toDisplayString","$options","isEditing","_hoisted_5","onClick","_cache","$event","_ctx","$emit","args","saveArticle","_hoisted_6","_hoisted_7","_hoisted_8","$data","articleForm","title","type","placeholder","maxlength","category_id","value","_Fragment","_renderList","$props","categories","category","key","id","name","_hoisted_9","_hoisted_10","tagsStr","publishedDate","_hoisted_11","_hoisted_12","coverImage","_hoisted_13","src","alt","triggerImageUpload","ref","accept","onChange","handleCoverImageUpload","_hoisted_15","_hoisted_16","formatText","insertLink","triggerImageInsert","insertVideo","insertCodeBlock","contenteditable","onInput","updateContent","media","length","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","url","_hoisted_23","removeMedia","_hoisted_25","_hoisted_26","_hoisted_27","contentWordCount","cancelEdit","saveAsDraft","publishArticle","handleImageUpload","handleVideoUpload","handleAudioUpload"],"sources":["/Users/yudesong/Project/Vue/blog/src/components/ArticleEditor.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <div class=\"max-w-5xl mx-auto p-4 bg-white min-h-screen\">\n      <!-- 模态框头部 -->\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200\">\n        <h3 class=\"text-lg font-medium text-gray-800\">{{ isEditing ? '编辑文章' : '新建文章' }}</h3>\n        <div class=\"flex space-x-2\">\n          <button \n            class=\"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors\"\n            @click=\"$emit('close')\"\n          >\n            取消\n          </button>\n          <button \n            class=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n            @click=\"saveArticle\"\n          >\n            保存\n          </button>\n        </div>\n      </div>\n      \n      <!-- 模态框内容 -->\n      <div class=\"flex-1 overflow-y-auto p-4\">\n        <!-- 文章基本信息 -->\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\n          <div class=\"md:col-span-2\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">文章标题</label>\n            <input \n              v-model=\"articleForm.title\"\n              type=\"text\" \n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"请输入文章标题\"\n              maxlength=\"100\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">文章分类</label>\n            <select \n              v-model=\"articleForm.category_id\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              <option value=\"\">请选择分类</option>\n              <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\n                {{ category.name }}\n              </option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">文章标签</label>\n            <input \n              v-model=\"articleForm.tagsStr\"\n              type=\"text\" \n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"多个标签用逗号分隔\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">发布日期</label>\n            <input \n              v-model=\"articleForm.publishedDate\"\n              type=\"date\" \n              class=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n        </div>\n        \n        <!-- 特色图片 -->\n        <div class=\"mb-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">特色图片</label>\n          <div class=\"flex items-center space-x-4\">\n            <div v-if=\"articleForm.coverImage\" class=\"w-32 h-20 rounded overflow-hidden border border-gray-200\">\n              <img :src=\"articleForm.coverImage\" alt=\"封面图片\" class=\"w-full h-full object-cover\" />\n            </div>\n            <button \n              class=\"px-3 py-1 border border-gray-300 rounded text-sm text-gray-700 hover:bg-gray-50 transition-colors flex items-center\"\n              @click=\"triggerImageUpload\"\n            >\n              <i class=\"fa fa-upload mr-1\"></i>\n              上传图片\n            </button>\n            <input \n              ref=\"imageUpload\"\n              type=\"file\" \n              accept=\"image/*\"\n              class=\"hidden\"\n              @change=\"handleCoverImageUpload\"\n            />\n          </div>\n        </div>\n        \n        <!-- 文章内容编辑器 -->\n        <div class=\"mb-6\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">文章内容</label>\n          \n          <!-- 编辑器工具栏 -->\n          <div class=\"border border-gray-300 rounded-t-lg p-2 bg-gray-50 flex flex-wrap gap-1\">\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"加粗\" @click=\"formatText('bold')\"><i class=\"fa fa-bold\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"斜体\" @click=\"formatText('italic')\"><i class=\"fa fa-italic\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"下划线\" @click=\"formatText('underline')\"><i class=\"fa fa-underline\"></i></button>\n            <span class=\"border-r border-gray-300 h-6 mx-1\"></span>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"H2标题\" @click=\"formatText('formatBlock', 'h2')\"><i class=\"fa fa-header\"></i>H2</button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"H3标题\" @click=\"formatText('formatBlock', 'h3')\"><i class=\"fa fa-header\"></i>H3</button>\n            <span class=\"border-r border-gray-300 h-6 mx-1\"></span>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"无序列表\" @click=\"formatText('insertUnorderedList')\"><i class=\"fa fa-list-ul\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"有序列表\" @click=\"formatText('insertOrderedList')\"><i class=\"fa fa-list-ol\"></i></button>\n            <span class=\"border-r border-gray-300 h-6 mx-1\"></span>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"插入链接\" @click=\"insertLink\"><i class=\"fa fa-link\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"插入图片\" @click=\"triggerImageInsert\"><i class=\"fa fa-image\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"插入视频\" @click=\"insertVideo\"><i class=\"fa fa-video\"></i></button>\n            <button class=\"p-1 hover:bg-gray-200 rounded\" title=\"插入代码块\" @click=\"insertCodeBlock\"><i class=\"fa fa-code\"></i></button>\n          </div>\n          \n          <!-- 编辑器内容区 -->\n          <div \n            ref=\"editorContent\"\n            contenteditable=\"true\"\n            class=\"border border-gray-300 border-t-0 rounded-b-lg p-4 min-h-[300px] focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            @input=\"updateContent\"\n          ></div>\n        </div>\n        \n        <!-- 媒体上传区域 -->\n        <div class=\"mb-4\" v-if=\"articleForm.media.length > 0\">\n          <label class=\"block text-sm font-medium text-gray-700 mb-2\">上传的媒体</label>\n          <div class=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2\">\n            <div v-for=\"media in articleForm.media\" :key=\"media.id\" class=\"relative\">\n              <div class=\"bg-gray-100 rounded p-2 flex flex-col items-center justify-center\">\n                <i v-if=\"media.type === 'video'\" class=\"fa fa-video text-gray-500 text-2xl mb-1\"></i>\n                <i v-else-if=\"media.type === 'audio'\" class=\"fa fa-music text-gray-500 text-2xl mb-1\"></i>\n                <img v-else :src=\"media.url\" alt=\"媒体预览\" class=\"w-full h-20 object-cover rounded mb-1\" />\n                <div class=\"text-xs text-gray-500 truncate text-center\">{{ media.name }}</div>\n              </div>\n              <button \n                class=\"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors\"\n                @click=\"removeMedia(media.id)\"\n              >\n                <i class=\"fa fa-times text-xs\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 页面底部操作区 -->\n      <div class=\"fixed bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-white shadow-lg\">\n        <div class=\"max-w-5xl mx-auto flex justify-between items-center\">\n          <div class=\"text-sm text-gray-500\">\n            字数统计：{{ contentWordCount }}\n          </div>\n          <div>\n            <button \n              class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100 mr-2 transition-colors\"\n              @click=\"cancelEdit\"\n            >\n              取消\n            </button>\n            <button \n              class=\"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-100 mr-2 transition-colors\"\n              @click=\"saveAsDraft\"\n            >\n              保存为草稿\n            </button>\n            <button \n              class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\"\n              @click=\"publishArticle\"\n            >\n              {{ isEditing ? '更新文章' : '发布文章' }}\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 隐藏的文件上传输入 -->\n      <input \n        ref=\"imageInsert\"\n        type=\"file\" \n        accept=\"image/*\"\n        class=\"hidden\"\n        @change=\"handleImageUpload\"\n      />\n      <input \n        ref=\"videoUpload\"\n        type=\"file\" \n        accept=\"video/*\"\n        class=\"hidden\"\n        @change=\"handleVideoUpload\"\n      />\n      <input \n        ref=\"audioUpload\"\n        type=\"file\" \n        accept=\"audio/*\"\n        class=\"hidden\"\n        @change=\"handleAudioUpload\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport hljs from 'highlight.js';\nimport 'highlight.js/styles/atom-one-dark.css';\n\nexport default {\n  name: 'ArticleEditor',\n  props: {\n    article: {\n      type: Object,\n      default: null\n    },\n    categories: {\n      type: Array,\n      required: true\n    }\n  },\n  data() {\n    return {\n      // 代码语言列表\n      codeLanguages: [\n        { value: 'javascript', label: 'JavaScript' },\n        { value: 'python', label: 'Python' },\n        { value: 'java', label: 'Java' },\n        { value: 'cpp', label: 'C++' },\n        { value: 'c', label: 'C' },\n        { value: 'csharp', label: 'C#' },\n        { value: 'php', label: 'PHP' },\n        { value: 'ruby', label: 'Ruby' },\n        { value: 'go', label: 'Go' },\n        { value: 'rust', label: 'Rust' },\n        { value: 'typescript', label: 'TypeScript' },\n        { value: 'html', label: 'HTML' },\n        { value: 'css', label: 'CSS' },\n        { value: 'json', label: 'JSON' },\n        { value: 'xml', label: 'XML' },\n        { value: 'sql', label: 'SQL' },\n        { value: 'bash', label: 'Bash' },\n        { value: 'yaml', label: 'YAML' },\n        { value: 'markdown', label: 'Markdown' },\n        { value: 'plaintext', label: '纯文本' }\n      ],\n      articleForm: {\n        id: null,\n        title: '',\n        category_id: '', // 修改为与watch中一致的字段名\n        tagsStr: '',\n        coverImage: '',\n        content: '',\n        status: 'published',\n        publishedDate: '',\n        media: []\n      }\n    }\n  },\n  computed: {\n    isEditing() {\n      return !!this.article\n    },\n    contentWordCount() {\n      const plainText = this.articleForm.content.replace(/<[^>]*>/g, '').replace(/&nbsp;/g, ' ')\n      return plainText.trim().length\n    }\n  },\n    watch: {\n      article: {\n        immediate: true,\n        handler(newVal) {\n          if (newVal) {\n            // 根据文章分类名称查找对应的分类ID\n            const categoryId = this.categories.find(c => c.name === newVal.category)?.id || '';\n            \n            this.articleForm = {\n              id: newVal.id,\n              title: newVal.title,\n              category_id: categoryId,\n              tagsStr: newVal.tags.join(','),\n              coverImage: newVal.coverImage,\n              content: newVal.content || '<p></p>',\n              status: 'published',\n              publishedDate: this.formatDateForInput(new Date(newVal.publishedDate)),\n              media: []\n            }\n          } else {\n            this.resetForm()\n          }\n        }\n      },\n      // 监听articleForm.content变化，确保编辑器内容同步\n      'articleForm.content': {\n        handler(newContent) {\n          // 只有当编辑器内容与新内容不同时才更新，避免用户输入时的循环更新\n          if (this.$refs.editorContent && this.$refs.editorContent.innerHTML !== newContent) {\n            this.$nextTick(() => {\n              if (this.$refs.editorContent) {\n                this.$refs.editorContent.innerHTML = newContent;\n                // 应用代码高亮\n                this.applyHighlight();\n              }\n            });\n          }\n        },\n        // 不要设置immediate，避免与mounted中的初始化冲突\n      }\n    },\n  mounted() {\n    if (!this.isEditing) {\n      this.resetForm()\n    } else {\n      // 使用nextTick确保DOM渲染完成\n      this.$nextTick(() => {\n        if (this.$refs.editorContent) {\n          this.$refs.editorContent.innerHTML = this.articleForm.content || '<p></p>';\n          // 应用代码高亮\n          this.applyHighlight();\n        }\n      })\n    }\n    \n    // 添加粘贴事件监听\n    if (this.$refs.editorContent) {\n      this.$refs.editorContent.addEventListener('paste', this.handlePaste);\n      // 添加键盘事件监听，特别是删除键\n      this.$refs.editorContent.addEventListener('keydown', this.handleKeydown);\n      // 设置代码变化观察器\n      this.observeCodeChanges();\n    }\n  },\n  \n  beforeUnmount() {\n    // 移除事件监听\n    if (this.$refs.editorContent) {\n      this.$refs.editorContent.removeEventListener('paste', this.handlePaste);\n      this.$refs.editorContent.removeEventListener('keydown', this.handleKeydown);\n    }\n    \n    // 清理mutation observer\n    if (this._codeObserver) {\n      this._codeObserver.disconnect();\n    }\n  },\n  methods: {\n    // 取消编辑\n    cancelEdit() {\n      if (confirm('确定要取消编辑吗？未保存的内容将丢失。')) {\n        this.$emit('cancel')\n      }\n    },\n    \n    resetForm() {\n      this.articleForm = {\n        id: null,\n        title: '',\n        category_id: '', // 确保这里也是正确的字段名\n        tagsStr: '',\n        coverImage: '',\n        content: '<p>开始撰写您的文章内容...</p>',\n        status: 'published',\n        publishedDate: this.formatDateForInput(new Date()),\n        media: []\n      }\n      \n      // 使用nextTick确保DOM渲染完成\n      this.$nextTick(() => {\n        if (this.$refs.editorContent) {\n          this.$refs.editorContent.innerHTML = this.articleForm.content;\n        }\n      });\n    },\n    \n    // 处理粘贴事件\n    async handlePaste(event) {\n      // 阻止默认粘贴行为\n      event.preventDefault();\n      \n      console.log('粘贴事件触发');\n      \n      // 获取粘贴的内容\n      const clipboardData = event.clipboardData || window.clipboardData;\n      let html = clipboardData.getData('text/html');\n      \n      if (html) {\n        console.log('检测到HTML内容');\n        // 创建临时DOM元素来处理HTML\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = html;\n        \n        // 检查是否包含代码块，如果有，尝试添加语言类\n        const codeBlocks = tempDiv.querySelectorAll('pre code');\n        if (codeBlocks.length > 0) {\n          codeBlocks.forEach(block => {\n            // 如果代码块没有语言类，添加默认的language-plaintext类\n            if (!Array.from(block.classList).some(cls => cls.startsWith('language-'))) {\n              block.classList.add('language-plaintext');\n            }\n          });\n        }\n        \n        // 查找所有图片元素\n        const images = tempDiv.querySelectorAll('img');\n        console.log(`找到 ${images.length} 张图片`);\n        \n        if (images.length > 0) {\n          const imagePromises = [];\n          \n          // 对每个图片进行处理\n          images.forEach((img, index) => {\n            let src = img.src;\n            // 检查是否有data-src或其他可能的图片源属性\n            if (!src || src === 'about:blank') {\n              src = img.getAttribute('data-src') || img.getAttribute('data-ratio') || img.src;\n            }\n            \n            console.log(`处理图片 ${index + 1}: ${src}`);\n            \n            if (src && !src.startsWith('data:')) {\n              // 为每个图片创建一个Promise\n              const promise = this.convertImageToDataURL(src).then(dataURL => {\n                console.log(`图片 ${index + 1} 转换成功`);\n                // 替换图片src为DataURL\n                img.src = dataURL;\n                img.srcset = ''; // 清空srcset以避免冲突\n                // 移除可能导致问题的属性\n                img.removeAttribute('data-src');\n                img.removeAttribute('data-w');\n                img.removeAttribute('data-ratio');\n                img.removeAttribute('data-type');\n                // 添加适当的样式\n                img.classList.add('max-w-full', 'h-auto');\n                return dataURL;\n              }).catch(error => {\n                console.error(`图片 ${index + 1} 转换失败:`, src, error);\n                // 如果转换失败，尝试更简单的方法\n                try {\n                  // 直接使用fetch获取图片\n                  return fetch(src, {\n                    mode: 'cors',\n                    headers: {\n                      'Access-Control-Allow-Origin': '*'\n                    },\n                    credentials: 'include'\n                  })\n                  .then(response => {\n                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n                    return response.blob();\n                  })\n                  .then(blob => {\n                    const reader = new FileReader();\n                    return new Promise((resolve) => {\n                      reader.onloadend = () => {\n                        const fallbackDataURL = reader.result;\n                        img.src = fallbackDataURL;\n                        console.log(`图片 ${index + 1} 使用备用方法成功`);\n                        resolve(fallbackDataURL);\n                      };\n                      reader.readAsDataURL(blob);\n                    });\n                  })\n                  .catch(fallbackError => {\n                    console.error(`图片 ${index + 1} 备用方法也失败:`, fallbackError);\n                    // 最后的选择 - 使用占位图\n                    img.src = 'https://picsum.photos/800/400';\n                    img.alt = '图片加载失败，使用占位图';\n                    return null;\n                  });\n                } catch (e) {\n                  img.src = 'https://picsum.photos/800/400';\n                  return null;\n                }\n              });\n              imagePromises.push(promise);\n            }\n          });\n          \n          // 等待所有图片处理完成\n          await Promise.all(imagePromises);\n          console.log('所有图片处理完成');\n        }\n        \n        // 获取处理后的HTML\n        const processedHtml = tempDiv.innerHTML;\n        console.log('处理后的HTML内容:', processedHtml.substring(0, 100) + '...');\n        \n        // 插入到编辑器\n        this.formatText('insertHTML', processedHtml);\n        \n        // 应用代码高亮\n        this.applyHighlight();\n      } else {\n        // 如果没有HTML内容，只粘贴纯文本\n        const text = clipboardData.getData('text/plain');\n        if (text) {\n          console.log('粘贴纯文本内容');\n          this.formatText('insertText', text);\n        }\n      }\n    },\n    \n    // 将图片URL转换为DataURL\n    convertImageToDataURL(url) {\n      return new Promise((resolve, reject) => {\n        // 首先尝试直接fetch获取图片（更可靠的方法）\n        fetch(url, {\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'image/jpeg',\n            'Access-Control-Allow-Origin': '*'\n          },\n          credentials: 'include'\n        })\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`HTTP error! status: ${response.status}`);\n          }\n          return response.blob();\n        })\n        .then(blob => {\n          const reader = new FileReader();\n          reader.onloadend = () => {\n            console.log('使用fetch成功获取图片并转换为DataURL');\n            resolve(reader.result);\n          };\n          reader.onerror = () => {\n            console.error('FileReader读取失败');\n            reject(new Error('读取图片失败'));\n          };\n          reader.readAsDataURL(blob);\n        })\n        .catch(fetchError => {\n          console.warn('fetch方法失败，尝试使用canvas方法:', fetchError);\n          \n          // 如果fetch失败，尝试使用canvas方法\n          try {\n            // 创建一个新的图片对象\n            const img = new Image();\n            \n            // 设置CORS以允许跨域图片\n            img.crossOrigin = 'anonymous';\n            \n            img.onload = function() {\n              try {\n                // 创建canvas元素\n                const canvas = document.createElement('canvas');\n                canvas.width = this.width || 800;\n                canvas.height = this.height || 600;\n                \n                // 绘制图片到canvas\n                const ctx = canvas.getContext('2d');\n                ctx.drawImage(this, 0, 0, canvas.width, canvas.height);\n                \n                try {\n                  // 转换为DataURL\n                  const dataURL = canvas.toDataURL('image/jpeg', 0.9);\n                  console.log('使用canvas成功转换图片');\n                  resolve(dataURL);\n                } catch (toDataURLError) {\n                  console.error('canvas toDataURL失败:', toDataURLError);\n                  reject(toDataURLError);\n                }\n              } catch (canvasError) {\n                console.error('canvas处理失败:', canvasError);\n                reject(canvasError);\n              }\n            };\n            \n            img.onerror = function() {\n              console.error('图片加载失败');\n              reject(new Error('图片加载失败'));\n            };\n            \n            // 设置超时\n            setTimeout(() => {\n              if (!img.complete) {\n                img.src = '';\n                reject(new Error('图片加载超时'));\n              }\n            }, 10000);\n            \n            // 开始加载图片\n            img.src = url;\n          } catch (error) {\n            reject(error);\n          }\n        });\n      });\n    },\n    \n    // 富文本编辑核心方法\n    formatText(command, value = null) {\n      // 先确保编辑器获得焦点\n      if (this.$refs.editorContent) {\n        this.$refs.editorContent.focus();\n        \n        // 尝试执行命令\n        try {\n          // 对于formatBlock命令，需要特殊处理\n          if (command === 'formatBlock' && value) {\n            document.execCommand('formatBlock', false, `<${value}>`);\n          } else {\n            document.execCommand(command, false, value);\n          }\n          this.updateContent();\n        } catch (error) {\n          console.error('编辑器命令执行失败:', error);\n        }\n      }\n    },\n    \n    // 插入链接\n    insertLink() {\n      const url = prompt('请输入链接地址:', 'http://');\n      if (url) {\n        this.formatText('createLink', url);\n      }\n    },\n    \n    // 插入视频\n    insertVideo() {\n      const url = prompt('请输入视频地址:', 'http://');\n      if (url) {\n        this.formatText('insertHTML', `<video controls width=\"100%\" src=\"${url}\"></video>`);\n      }\n    },\n    \n    // 插入代码块\n    insertCodeBlock() {\n      // 创建一个临时的div来显示语言选择对话框\n      const dialogContainer = document.createElement('div');\n      dialogContainer.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';\n      dialogContainer.innerHTML = `\n        <div class=\"bg-white p-4 rounded-lg shadow-lg max-w-md w-full\">\n          <h3 class=\"text-lg font-medium mb-4\">选择编程语言</h3>\n          <select id=\"codeLanguageSelect\" class=\"w-full p-2 border border-gray-300 rounded mb-4\">\n            ${this.codeLanguages.map(lang => `\n              <option value=\"${lang.value}\">${lang.label}</option>\n            `).join('')}\n          </select>\n          <div class=\"flex justify-end space-x-2\">\n            <button id=\"cancelBtn\" class=\"px-4 py-2 border border-gray-300 rounded\">取消</button>\n            <button id=\"confirmBtn\" class=\"px-4 py-2 bg-blue-600 text-white rounded\">确定</button>\n          </div>\n        </div>\n      `;\n      \n      document.body.appendChild(dialogContainer);\n      \n      const select = dialogContainer.querySelector('#codeLanguageSelect');\n      const cancelBtn = dialogContainer.querySelector('#cancelBtn');\n      const confirmBtn = dialogContainer.querySelector('#confirmBtn');\n      \n      // 确认按钮点击事件\n      confirmBtn.addEventListener('click', () => {\n        const language = select.value;\n        const languageClass = language === 'plaintext' ? '' : `language-${language}`;\n        \n        // 插入代码块\n        this.formatText('insertHTML', `<pre><code class=\"${languageClass}\">在这里输入代码...</code></pre>`);\n        \n        // 应用代码高亮\n        this.highlightAllCode();\n        \n        // 清理对话框\n        document.body.removeChild(dialogContainer);\n        \n        // 尝试聚焦到代码块并选择占位文本\n        setTimeout(() => {\n          const codeElements = this.$refs.editorContent.querySelectorAll('pre code');\n          const lastCode = codeElements[codeElements.length - 1];\n          if (lastCode && lastCode.textContent === '在这里输入代码...') {\n            const range = document.createRange();\n            range.selectNodeContents(lastCode);\n            const selection = window.getSelection();\n            selection.removeAllRanges();\n            selection.addRange(range);\n          }\n        }, 0);\n      });\n      \n      // 取消按钮点击事件\n      cancelBtn.addEventListener('click', () => {\n        document.body.removeChild(dialogContainer);\n      });\n    },\n    \n    // 处理键盘事件，特别是删除键\n    handleKeydown(event) {\n      // 阻止删除键可能导致的页面导航行为\n      if (event.key === 'Backspace' || event.key === 'Delete') {\n        // 阻止默认的页面导航行为\n        event.stopPropagation();\n        \n        // 确保编辑器内容区域获得焦点\n        if (this.$refs.editorContent) {\n          // 检查当前选中内容\n          const selection = window.getSelection();\n          if (selection.rangeCount > 0) {\n            const range = selection.getRangeAt(0);\n            \n            // 如果删除空内容或光标在开始位置，防止可能的页面跳转\n            if (range.startOffset === 0 && range.endOffset === 0 && range.startContainer.nodeType === 3) {\n              // 如果是文本节点的开头，确保不会触发任何特殊行为\n              const parentElement = range.startContainer.parentNode;\n              if (parentElement && parentElement.previousSibling === null) {\n                // 在顶级元素的开头，确保不会触发任何页面级导航\n                event.preventDefault();\n                \n                // 手动处理删除操作\n                if (parentElement.textContent.trim() === '' && parentElement.tagName.toLowerCase() === 'p') {\n                  // 保留空段落，防止编辑器内容完全清空\n                  return;\n                }\n                \n                // 恢复默认行为，允许删除\n                setTimeout(() => {\n                  document.execCommand('delete', false, null);\n                  this.updateContent();\n                }, 0);\n              }\n            }\n          }\n        }\n      }\n    },\n    \n    // 应用代码高亮\n    highlightAllCode() {\n      if (this.$refs.editorContent) {\n        const codeBlocks = this.$refs.editorContent.querySelectorAll('pre code');\n        codeBlocks.forEach(block => {\n          // 检查是否已经有高亮类\n          if (!block.classList.contains('hljs')) {\n            // 获取语言类\n            const languageClass = Array.from(block.classList).find(cls => cls.startsWith('language-'));\n            if (languageClass) {\n              const language = languageClass.replace('language-', '');\n              // 尝试使用指定语言高亮\n              if (hljs.getLanguage(language)) {\n                hljs.highlightElement(block);\n              } else {\n                // 如果指定的语言不可用，自动检测\n                hljs.highlightElement(block);\n              }\n            } else {\n              // 自动检测语言\n              hljs.highlightElement(block);\n            }\n          }\n        });\n      }\n    },\n    \n    // 监听代码块变化并重新高亮\n    observeCodeChanges() {\n      if (this.$refs.editorContent) {\n        const observer = new MutationObserver(mutations => {\n          mutations.forEach(mutation => {\n            // 检查是否有代码块被修改\n            const hasCodeBlocks = Array.from(mutation.addedNodes).some(node => {\n              return node.nodeType === 1 && (node.tagName === 'PRE' || \n                     node.querySelector('pre code') || \n                     node.tagName === 'CODE');\n            });\n            \n            if (hasCodeBlocks) {\n              // 延迟执行以确保DOM完全更新\n              setTimeout(() => this.highlightAllCode(), 0);\n            }\n          });\n        });\n        \n        observer.observe(this.$refs.editorContent, {\n          childList: true,\n          subtree: true,\n          characterData: true\n        });\n        \n        // 保存observer引用以便在组件销毁时清理\n        this._codeObserver = observer;\n      }\n    },\n    \n    // 手动应用代码高亮（用于粘贴或内容加载后）\n    applyHighlight() {\n      setTimeout(() => this.highlightAllCode(), 0);\n    },\n    formatDateForInput(date) {\n      const year = date.getFullYear()\n      const month = String(date.getMonth() + 1).padStart(2, '0')\n      const day = String(date.getDate()).padStart(2, '0')\n      return `${year}-${month}-${day}`\n    },\n    updateContent() {\n      if (this.$refs.editorContent) {\n        // 保存当前光标位置\n        const selection = window.getSelection();\n        const range = selection.rangeCount > 0 ? selection.getRangeAt(0) : null;\n        \n        // 更新内容\n        this.articleForm.content = this.$refs.editorContent.innerHTML;\n        \n        // 应用代码高亮\n        this.applyHighlight();\n        \n        // 恢复光标位置（如果之前有有效光标位置）\n        setTimeout(() => {\n          if (range && selection) {\n            try {\n              selection.removeAllRanges();\n              selection.addRange(range);\n            } catch (e) {\n              // 忽略无法恢复光标的情况\n            }\n          }\n        }, 0);\n      }\n    },\n    \n    // 触发特色图片上传\n    triggerImageUpload() {\n      this.$refs.imageUpload.click()\n    },\n    \n    // 触发内容中插入图片\n    triggerImageInsert() {\n      this.$refs.imageInsert.click()\n    },\n    \n    // 处理特色图片上传\n    handleCoverImageUpload(e) {\n      const file = e.target.files[0]\n      if (file) {\n        // 这里只是模拟上传，实际项目中应该发送到服务器\n        const reader = new FileReader()\n        reader.onload = (event) => {\n          this.articleForm.coverImage = event.target.result\n        }\n        reader.readAsDataURL(file)\n      }\n      // 重置input，允许重复上传同一文件\n      e.target.value = ''\n    },\n    \n    // 处理内容图片上传\n    handleImageUpload(e) {\n      const file = e.target.files[0]\n      if (file) {\n        // 模拟上传\n        const reader = new FileReader()\n        reader.onload = (event) => {\n          // 将图片添加到媒体列表\n          this.articleForm.media.push({\n            id: Date.now(),\n            type: 'image',\n            url: event.target.result,\n            name: file.name\n          })\n          \n          // 同时在编辑器中插入图片\n          if (this.$refs.editorContent) {\n            this.$refs.editorContent.focus()\n            this.formatText('insertHTML', `<img src=\"${event.target.result}\" alt=\"${file.name}\" class=\"max-w-full h-auto\">`)\n          }\n        }\n        reader.readAsDataURL(file)\n      }\n      // 重置input，允许重复上传同一文件\n      e.target.value = ''\n    },\n    \n    // 处理视频上传\n    handleVideoUpload(e) {\n      const file = e.target.files[0]\n      if (file) {\n        // 模拟上传\n        this.articleForm.media.push({\n          id: Date.now(),\n          type: 'video',\n          url: '#',\n          name: file.name\n        })\n      }\n      e.target.value = ''\n    },\n    \n    // 处理音频上传\n    handleAudioUpload(e) {\n      const file = e.target.files[0]\n      if (file) {\n        // 模拟上传\n        this.articleForm.media.push({\n          id: Date.now(),\n          type: 'audio',\n          url: '#',\n          name: file.name\n        })\n      }\n      e.target.value = ''\n    },\n    \n    // 移除媒体\n    removeMedia(id) {\n      this.articleForm.media = this.articleForm.media.filter(media => media.id !== id)\n    },\n    // 简化版保存草稿方法\n    saveAsDraft() {\n      console.log('开始保存草稿')\n      \n      // 简化验证\n      if (!this.articleForm.title.trim()) {\n        alert('请输入文章标题')\n        return\n      }\n      \n      // 准备提交数据\n      const submitData = {\n        id: this.articleForm.id,\n        title: this.articleForm.title,\n        category_id: this.articleForm.category_id,\n        content: this.articleForm.content,\n        status: 'draft',\n        publishedDate: this.articleForm.publishedDate,\n        coverImage: this.articleForm.coverImage,\n        tags: this.articleForm.tagsStr.split(',').map(tag => tag.trim()).filter(tag => tag)\n      }\n      \n      console.log('发出save事件（草稿）:', submitData)\n      \n      // 直接使用this.$emit\n      this.$emit('save', submitData)\n      console.log('save事件已发出')\n      alert('文章已保存为草稿')\n    },\n    \n    // 简化版发布/更新方法\n    publishArticle() {\n      console.log('开始发布/更新文章')\n      \n      // 完整验证\n      if (!this.articleForm.title.trim()) {\n        alert('请输入文章标题')\n        return\n      }\n      if (!this.articleForm.category_id) {\n        alert('请选择文章分类')\n        return\n      }\n      if (!this.articleForm.content.trim() || this.articleForm.content === '<p>开始撰写您的文章内容...</p>') {\n        alert('请输入文章内容')\n        return\n      }\n      \n      // 准备提交数据\n      const submitData = {\n        id: this.articleForm.id,\n        title: this.articleForm.title,\n        category_id: this.articleForm.category_id,\n        content: this.articleForm.content,\n        status: 'published',\n        publishedDate: new Date().toISOString(),\n        coverImage: this.articleForm.coverImage,\n        tags: this.articleForm.tagsStr.split(',').map(tag => tag.trim()).filter(tag => tag)\n      }\n      \n      console.log('发出save事件（发布）:', submitData)\n      \n      // 直接使用this.$emit\n      this.$emit('save', submitData)\n      console.log('save事件已发出')\n      alert('文章已成功' + (this.isEditing ? '更新' : '发布'))\n    },\n     // 更新文章\n    async updateArticle() {\n      if (!this.articleForm.id) {\n        alert('请先编辑文章');\n        return;\n      }\n      \n      // 转换标签字符串为数组\n      this.articleForm.tags = this.articleForm.tagsStr.split(',').map(tag => tag.trim());\n      // 发送PUT请求更新文章\n      try {\n        const url = `http://localhost:5000/api/articles/${this.articleForm.id}`;\n        const response = await fetch(url, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(this.articleForm)\n        });\n        \n        if (!response.ok) {\n          throw new Error('Failed to update article');\n        }\n        \n        // 重置表单\n        this.showArticleEditor = false;\n      } catch (error) {\n        console.error('Error updating article:', error);\n        alert('更新文章失败，请稍后重试');\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 编辑器样式已集成在组件中 */\n\n/* 代码块样式优化 */\n:deep(pre) {\n  background-color: #282c34 !important;\n  color: #abb2bf;\n  padding: 16px;\n  border-radius: 6px;\n  overflow-x: auto;\n  margin: 16px 0;\n  font-family: 'Fira Code', 'Courier New', monospace;\n  font-size: 14px;\n  line-height: 1.5;\n}\n\n:deep(pre code) {\n  background-color: transparent !important;\n  padding: 0 !important;\n  color: inherit;\n  font-family: inherit;\n  font-size: inherit;\n  line-height: inherit;\n  white-space: pre;\n  word-wrap: normal;\n}\n\n/* 滚动条样式优化 */\n:deep(pre::-webkit-scrollbar) {\n  height: 8px;\n}\n\n:deep(pre::-webkit-scrollbar-track) {\n  background: #1e1e1e;\n  border-radius: 4px;\n}\n\n:deep(pre::-webkit-scrollbar-thumb) {\n  background: #525252;\n  border-radius: 4px;\n}\n\n:deep(pre::-webkit-scrollbar-thumb:hover) {\n  background: #6e6e6e;\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}